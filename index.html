<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Weather App</title>

  <!-- Stylesheets -->
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/modal.css" />

  <!-- Favicon -->
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />

  <!-- FontAwesome Icons -->
  <script src="https://kit.fontawesome.com/f5c8e13b2d.js" crossorigin="anonymous"></script>
</head>

<body>
  <!-- ========================= LOCATION MODAL ========================= -->
  <div id="generic_modal" class="modal" data-open="open" data-closable="no">
    <div class="modal-content dynamic-bg">
      <h2>This app uses your current location</h2>
      <p>
        This app uses your location to provide better results. 
        Please allow location permission.
      </p>

      <!-- Inline IIFE call for updating location -->
      <button class="ok-btn" onclick="(() => {
          updateCurrentLocation();
          closeModal(true);
      })()">
        Ok
      </button>
    </div>
  </div>

  <!-- ========================= MAIN CONTAINER ========================= -->
  <div class="container">
    
    <!-- ========== WEATHER REPORT (Right Side Main Section) ========== -->
    <div class="weather-report">

      <!-- || NAVIGATION BAR -->
      <nav>
        <!-- Location -->
        <div class="location">
          <h2 id="city">New Delhi</h2>
          <h3 id="country">
            <i class="fa-sharp fa-solid fa-location-dot"></i> India
          </h3>
        </div>

        <!-- Search Input -->
        <div class="search-area">
          <input type="text" id="search" placeholder="Enter city name..." spellcheck="false" />
          <button><i class="fa-solid fa-magnifying-glass"></i></button>
        </div>

        <!-- Hamburger Menu (for sidebar/mobile) -->
        <div class="hamburger">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </div>

        <!-- Dark Mode Toggle -->
        <div class="dark-mode-toggle">
          <label class="switch">
            <input type="checkbox" id="darkModeToggle" />
            <span class="slider round"></span>
          </label>
          <span id="darkModeText">Dark Mode</span>
        </div>
      </nav>

      <!-- || CURRENT WEATHER STATUS -->
      <div class="current-status">
        
        <!-- Box-1: Main Weather -->
        <div class="weather weather-box1">
          <div class="weather-heading">
            <div class="weather-icon">
              <i class="fa-solid fa-cloud"></i>
            </div>
            <div class="weather-description">
              <h3>Weather</h3>
              <h4>What's the weather?</h4>
            </div>
          </div>

          <!-- Temperature & Icon -->
          <div class="weather-temperature">
            <div class="temperature">
              <div class="temp">
                <h2 id="temp">22</h2>
                <img src="images/celsius.svg" alt="Celsius Unit" />
              </div>
              <img id="weather-icon" src="images/clear.png" alt="Weather Icon" />
            </div>
            <p id="description">Partly Cloudy</p>
          </div>

          <!-- Weather Details -->
          <div class="weather-details">
            <div class="box">
              <p>Pressure</p>
              <h3 id="pressure">800mb</h3>
            </div>
            <div class="box">
              <p>Visibility</p>
              <h3 id="visibility">4.3 km</h3>
            </div>
            <div class="box">
              <p>Humidity</p>
              <h3 id="humidity">87%</h3>
            </div>
          </div>
        </div>

        <!-- Box-2: Sunrise, Sunset & UV Index -->
        <div class="weather weather-box2">
          <div class="more-details">

            <!-- Sunrise / Sunset -->
            <div class="more-detail-box">
              <p>Sunrise & Sunset</p>
              <div class="sunrise-sunset">
                <div class="sunrise">
                  <span>ðŸŒ„</span>
                  <div class="sunrise-status">
                    <p>Sunrise</p>
                    <h3 id="sunrise-time">6:41 AM</h3>
                  </div>
                </div>
                <div class="sunset">
                  <span>ðŸŒ†</span>
                  <div class="sunset-status">
                    <p>Sunset</p>
                    <h3 id="sunset-time">5:56 PM</h3>
                  </div>
                </div>
              </div>
            </div>

            <!-- UV Index -->
            <div class="more-detail-box uvi-rays-area">
              <img src="images/clear.png" alt="UV Icon" />
              <div class="uvi-mesurement">
                <div class="uvi-rays-status">
                  <div id="uvi-rays">20 UVI</div>
                  <div class="uvi-level">Moderate</div>
                </div>
                <div class="uvi-level-desc">
                  <span class="uvi-level2">Moderate</span> risk from UV rays
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>

      <!-- || 24-HOUR HOURLY TEMPERATURE -->
      <div class="hourly-temperature">
        <div class="hourly-temperature-heading">
          <h2>
            How's the <br /> temperature today at?
          </h2>
        </div>

        <!-- Example Hourly Slots (to be dynamically filled) -->
        <div class="today-at">
          <div class="hours-box">
            <p class="hours">00:00 AM</p>
            <img class="hourly-icon" src="images/clear.png" alt="Weather Icon" />
            <p class="hours-temp">21.8 Â°C</p>
          </div>
          <!-- Repeat for other hours -->
        </div>
      </div>
    </div>

    <!-- ========== SLIDEBAR (Left Side) ========== -->
    <div class="slidebar">

      <!-- Time & Date -->
      <div class="time-date">
        <h2 class="time">12:03:40 AM</h2>
        <p class="date">7 March 2023, Monday</p>
      </div>

      <!-- Air Quality Index -->
      <div class="aqi-prediction-container">
        <div class="aqi-prediction"></div>
        <div class="aqi-prediction-content">
          <h2 class="aqi-title">Air Quality</h2>
          <p>Main pollutant: PM 2.5</p>
          <div class="current-aqi">
            <div class="aqi-level">
              <div class="aqi">390</div>
              <span>AQI</span>
            </div>
            <div class="consern-level">Standard</div>
          </div>
        </div>
      </div>

      <!-- Next 3 Days Forecast -->
      <div class="weather-prediction">
        <h3>3 Days Forecast</h3>
        <div class="days-box">
          <div>
            <img class="days-icon" src="images/clouds.png" alt="Cloudy" />
            <div class="days">
              <div class="prediction-day">Sunday 10</div>
              <div class="prediction-desc">Cloudy</div>
            </div>
          </div>
          <div class="days-temp">26Â°C <span>/</span> 19Â°C</div>
        </div>
        <!-- Repeat days -->
      </div>
    </div>
  </div>

  <!-- ========================= FOOTER ========================= -->
  <div class="s-footer">
    <footer class="footer">
      <!-- Decorative Waves -->
      <div class="waves">
        <div class="wave" id="wave1"></div>
        <div class="wave" id="wave2"></div>
        <div class="wave" id="wave3"></div>
        <div class="wave" id="wave4"></div>
      </div>

      <!-- Social Links -->
      <ul class="social-icon">
        <li><a class="social-icon__link" href="https://www.facebook.com/"><ion-icon name="logo-facebook"></ion-icon></a></li>
        <li><a class="social-icon__link" href="https://github.com/devjainofficial/"><ion-icon name="logo-github"></ion-icon></a></li>
        <li><a class="social-icon__link" href="https://www.linkedin.com/in/devjainofficial/"><ion-icon name="logo-linkedin"></ion-icon></a></li>
        <li><a class="social-icon__link" href="https://www.instagram.com/devjain_official"><ion-icon name="logo-instagram"></ion-icon></a></li>
      </ul>

      <!-- Footer Info -->
      <h3>Weather App</h3>
      <p>Copyrights &copy; 2024</p>
    </footer>
  </div>

  <!-- ========================= SCRIPTS ========================= -->
  <script src="js/main.js"></script>
  <script>
    // Load modal.js only if city not stored in localStorage
    if (!localStorage.getItem('city')) {
      let script = document.createElement("script");
      script.src = 'js/modal.js';
      document.head.appendChild(script);
    }
  </script>

  <!-- Ionicons -->
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</body>
</html>
